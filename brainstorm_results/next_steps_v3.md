# ブレスト会議議事録：次世代Ultアプリ (Phase 3)

## 🎯 テーマ
**「Living Nexus」と「Strategy Shifter」の実装完了を受けて、次の戦略的ステップ（本番運用化とエンターテイメント性の深化）を決定する。**

## 🗣️ 対話の記録 (Dialogue Transcript)

### Q1: 現状の機能（3Dグラフ、クラッシュ検知）を本番運用レベルにするための技術的課題は？
-   **A1 (Qwen - Technical):**
    -   **リアルタイムデータ接続:** 現在のMockデータを、FinnhubまたはAlpacaのWebSocket APIに置き換える必要がある。遅延（Latency）を最小限に抑えるため、React側のステート管理（Zustand等）の最適化が必須。
    -   **APIレート制限のハンドリング:** 無料枠/有料枠の制限を超えないよう、バックエンドでキャッシング層（Redis等）を挟むべき。
    -   **エラーバウンダリの強化:** 3Dレンダリングのクラッシュがアプリ全体を落とさないよう、堅牢な例外処理が必要（実装済みだが、ネットワークエラー系も追加が必要）。

### Q2: 「Ghost in the Shell」をより深い「体験」にするための進化形は？
-   **A2 (Big Pickle - Creative):**
    -   **「感情」を持つゴースト:** 市場レジーム（安定・暴落）に合わせて、Ghostの「精神状態」を変化させる。
        -   *Stable:* 冷静沈着、皮肉屋。
        -   *Crash:* パニック、または過度に興奮した警告モード。
    -   **クエストシステム:** 「このセクターのボラティリティを調査せよ」といったミッションをユーザーに与え、達成すると「システム権限（新たな分析ツール）」が解放されるゲーミフィケーション。
    -   **オーディオ・リアクティビティ:** 市場の動きに合わせて、BGMやSE（環境音）が変化する「聴覚的AR」。

## ⚔️ 議論 (Debate)

-   **Qwenの主張:**
    -   「まずはデータの信頼性だ。リアルタイムデータがなければ、どんな派手なUIも無意味な玩具に過ぎない。WebSocketの実装を最優先すべき。」
-   **Big Pickleの主張:**
    -   「信頼性なんて退屈だ！ ユーザーが求めているのは『没入感』だ。ゴーストがただのアラート係なんて勿体ない。彼を『相棒』に進化させるんだ。」
-   **Antigravity (Facilitator) の考察:**
    -   Qwenの言う通り、データ接続は必須。しかし、Big Pickleの「レジーム連動型ゴースト」は、今回実装した `regime_detector.py` と非常に相性が良い。
    -   バックエンドで検知した「CRASH」状態を、フロントエンドの「Ghost」のセリフや色調に直結させることで、機能と演出を統合できる。

## ⚖️ 最終決定 (Final Decision)

「機能」と「演出」を分離せず、**「データを演出に変換する」** アプローチを採用する。

### 🚀 Next Mission
1.  **Project: Realtime Synapse (リアルタイム・シナプス)**
    -   **Backend:** Finnhub/Alpaca APIとのWebSocket接続を確立。
    -   **Frontend:** 受信したティッカー価格で3Dグラフのノードサイズ/色をリアルタイム更新。

2.  **Project: Persona Protocol (ペルソナ・プロトコル)**
    -   **Logic:** `RegimeDetector` の判定結果（Stable/Crash/Volatile）を WebSocket でフロントエンドに送信。
    -   **UI:** レジームに応じて Ghost の台詞、UIカラーテーマ、3Dグラフの回転速度を動的に変化させる。
