{
  "name": "Flash Crash Detector",
  "slug": "flash-crash-detector",
  "version": "1.0.0",
  "description": "Detects flash crashes and rapid price drops in financial markets",
  "author": "ULT Trading Platform",
  "license": "MIT",
  "tags": ["trading", "risk-management", "market-analysis", "flash-crash", "alerts"],
  "capabilities": [
    "Detect rapid price drops within configurable time windows",
    "Monitor volume spikes during price drops",
    "Generate severity-based alerts (LOW/MEDIUM/HIGH/CRITICAL)",
    "Provide recommended trading actions (HALT/REDUCE/MONITOR)",
    "Track historical crash patterns",
    "Real-time monitoring with configurable check intervals"
  ],
  "use_cases": [
    {
      "scenario": "Real-time Flash Crash Detection",
      "description": "Monitor a symbol for flash crash conditions",
      "example": "Start monitoring 'AAPL' with 5% drop threshold and 2x volume spike"
    },
    {
      "scenario": "Historical Pattern Analysis",
      "description": "Analyze past data for crash patterns",
      "example": "Detect if recent 60-minute data shows crash pattern"
    },
    {
      "scenario": "Risk Assessment",
      "description": "Get comprehensive risk metrics for a symbol",
      "example": "Get drop rate, volatility, and trend analysis for 'TSLA'"
    }
  ],
  "configuration": {
    "priceDropPercent": {
      "type": "number",
      "default": 5,
      "description": "Price drop percentage threshold for flash crash detection"
    },
    "timeWindowMinutes": {
      "type": "number",
      "default": 5,
      "description": "Time window in minutes for drop calculation"
    },
    "volumeThreshold": {
      "type": "number",
      "default": 2,
      "description": "Volume spike multiplier for crash confirmation"
    },
    "severeDropPercent": {
      "type": "number",
      "default": 10,
      "description": "Threshold for critical severity alerts"
    },
    "checkIntervalMs": {
      "type": "number",
      "default": 60000,
      "description": "Monitoring check interval in milliseconds"
    }
  },
  "output_format": {
    "type": "object",
    "properties": {
      "isFlashCrash": {
        "type": "boolean",
        "description": "Whether a flash crash was detected"
      },
      "alert": {
        "type": "object",
        "description": "Alert details if crash detected",
        "properties": {
          "id": { "type": "string" },
          "type": { "type": "string", "enum": ["FLASH_CRASH", "POTENTIAL_CRASH", "SEVERE_DROP"] },
          "severity": { "type": "string", "enum": ["LOW", "MEDIUM", "HIGH", "CRITICAL"] },
          "dropPercent": { "type": "number" },
          "recommendedAction": { "type": "string" }
        }
      },
      "metrics": {
        "type": "object",
        "description": "Risk metrics",
        "properties": {
          "maxDropPercent": { "type": "number" },
          "avgDropRate": { "type": "number" },
          "volumeSpikeRatio": { "type": "number" },
          "volatility": { "type": "number" }
        }
      },
      "trend": {
        "type": "string",
        "enum": ["CONTINUOUS_DROP", "VOLATILE", "STABLE"]
      }
    }
  },
  "examples": [
    {
      "description": "Start real-time monitoring",
      "code": "flashCrashDetector.startMonitoring('NVDA', initialData);"
    },
    {
      "description": "Detect flash crash",
      "code": "const result = flashCrashDetector.detect('AAPL', ohlcvData);"
    },
    {
      "description": "Configure detection parameters",
      "code": "flashCrashDetector.updateConfig({ priceDropPercent: 7, timeWindowMinutes: 3 });"
    }
  ],
  "best_practices": [
    "Use shorter time windows for high-volatility markets",
    "Combine with volume spike detection for confirmation",
    "Set appropriate alerts based on risk tolerance",
    "Review historical patterns before making trading decisions",
    "Use recommended actions as guidelines, not mandates"
  ],
  "related_skills": ["gap-risk-manager", "portfolio-optimizer", "composite-alert-engine"],
  "integration_points": [
    "AlertSystem for notifications",
    "RiskManagement for position sizing",
    "PortfolioOptimizer for rebalancing"
  ]
}
