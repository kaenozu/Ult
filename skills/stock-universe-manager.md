# Stock Universe Manager Skill (銘柄ユニバース・マネージャー)

このスキルは、プラットフォームが扱う銘柄リスト（ユニバース）の網羅性、正確性、および動的な拡張性を管理するための専門知識です。

## 1. ユニバースの網羅性と品質
*   **100銘柄の黄金律**: 日米の主要株、高流動性株を中心に、常に 100 銘柄程度の高品質なプリセット・リストを維持する。
*   **セクター・バランス**: 特定の業種に偏らず、テクノロジー、金融、消費財、エネルギーなどの主要セクターをバランスよく網羅する。
*   **データの正確性**: 銘柄コード、市場区分（JP/US）、セクター情報の正確性を常に監視し、不整合があれば即座に修正する。

## 2. オンデマンド自動拡張 (On-demand Expansion)
*   **動的登録ロジック**: プリセットにない銘柄が検索された際、API からメタデータ（現在値、騰落率等）を自動取得し、即座に分析可能な `Stock` オブジェクトとしてシステムに登録する。
*   **シームレスな統合**: ユーザーが「リストにない」ことを意識することなく、検索 Enter 一つで世界中の銘柄をウォッチリストに組み込める体験を提供する。

## 3. TDD によるデータ管理
*   **テストファースト**: 銘柄の追加やデータ構造の変更時は、必ず「リスト数」や「動的取得ロジック」を検証するテストを先に作成（TDD）し、退行を防ぐ。
*   **型安全性の確保**: `Stock` 型との完全な一致を維持し、未知の銘柄でも既存の分析エンジン（最適化・相関）が 100% 動作することを保証する。

## 4. パフォーマンスの最適化
*   **スマート・ローディング**: 大量銘柄の分析時はチャンク化と並列取得を行い、ブラウザのフリーズを防ぎつつ、爆速なスクリーニング体験を維持する。
