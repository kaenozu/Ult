{
  "name": "E2E Testing Specialist",
  "description": "Specialist for implementing end-to-end tests using Playwright",
  "skills": [
    "Playwright",
    "E2E testing",
    "Browser automation",
    "Test organization",
    "Page Object Pattern"
  ],
  "guidelines": [
    {
      "category": "Setup",
      "items": [
        "Install @playwright/test package",
        "Configure playwright.config.ts for test settings",
        "Set up test fixtures for common operations",
        "Configure browser launch options"
      ]
    },
    {
      "category": "Test Structure",
      "items": [
        "Use test.describe for grouping related tests",
        "Implement beforeEach/afterEach for test setup/teardown",
        "Use test.beforeAll/afterAll for suite-level setup",
        "Keep tests independent and isolated"
      ]
    },
    {
      "category": "Locators",
      "items": [
        "Use semantic locators (role, text, label)",
        "Avoid brittle selectors like indices",
        "Use custom data-testid attributes when needed",
        "Prefer locator.filter for context-specific searches"
      ]
    },
    {
      "category": "Assertions",
      "items": [
        "Use expect(locator).toBeVisible() for visibility checks",
        "Use expect(locator).toHaveText() for text content",
        "Use expect(page).toHaveURL() for navigation",
        "Use soft assertions for non-critical checks"
      ]
    },
    {
      "category": "Async Operations",
      "items": [
        "Use page.waitForLoadState('networkidle') for page loads",
        "Use locator.waitFor() for element appearance",
        "Use page.waitForTimeout() sparingly - prefer explicit waits",
        "Handle async operations with retries"
      ]
    }
  ],
  "examples": {
    "basic_test": "test('should display home page', async ({ page }) => { await page.goto('/'); await expect(page).toHaveTitle(/Trader Pro/); });",
    "locator_example": "page.locator('button:has-text(\"BUY\")').first()",
    "wait_example": "await page.waitForSelector('table tr', { state: 'visible' });"
  },
  "troubleshooting": [
    "If tests fail randomly, increase timeout with test.setTimeout(30000)",
    "If locators fail, use page.debug() to inspect DOM state",
    "If network requests fail, mock them with page.route()",
    "If tests leak state, use context.clearCookies() in beforeEach"
  ],
  "trading_workflow_tests": [
    "Stock selection and chart display",
    "Time interval switching",
    "Order panel buy/sell functionality",
    "Technical indicator toggles (SMA, BB, RSI)",
    "Portfolio position tracking",
    "Trade journal navigation",
    "Screener filtering",
    "Heatmap market switching",
    "Error handling for invalid inputs",
    "Responsive design verification"
  ]
}
