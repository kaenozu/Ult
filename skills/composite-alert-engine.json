{
  "name": "Composite Alert Engine",
  "slug": "composite-alert-engine",
  "version": "1.0.0",
  "description": "Advanced alert system with composite conditions, pattern detection, and adaptive learning",
  "author": "ULT Trading Platform",
  "license": "MIT",
  "tags": ["trading", "alerts", "pattern-detection", "composite-conditions", "adaptive-learning"],
  "capabilities": [
    "Create complex composite alerts with AND/OR logic",
    "Nest multiple alert conditions for sophisticated triggers",
    "Detect chart patterns (doji, engulfing, stars, etc.)",
    "Detect market anomalies (price spikes, volume spikes)",
    "Adaptive threshold learning based on trigger rates",
    "Multiple notification channels (UI, email, webhook, SMS)",
    "Learning system for alert effectiveness tracking"
  ],
  "use_cases": [
    {
      "scenario": "Multi-Condition Breakout Alert",
      "description": "Alert when price breaks resistance with volume confirmation",
      "example": "Create alert: price above SMA(20) AND volume > 2x average AND RSI < 70"
    },
    {
      "scenario": "Pattern-Based Trading Signal",
      "description": "Get notified when specific patterns are detected",
      "example": "Alert when bullish engulfing pattern is detected with 75%+ confidence"
    },
    {
      "scenario": "Market Anomaly Detection",
      "description": "Detect unusual price or volume movements",
      "example": "Alert when price deviates 2.5+ standard deviations from recent average"
    },
    {
      "scenario": "Adaptive Threshold Alert",
      "description": "Self-adjusting alerts based on market conditions",
      "example": "Alert with thresholds that automatically adjust to recent volatility"
    },
    {
      "scenario": "Portfolio Risk Alert",
      "description": "Multi-asset portfolio risk monitoring",
      "example": "Alert when any position drops 5% within 1 hour"
    }
  ],
  "configuration": {
    "maxNestingLevel": {
      "type": "number",
      "default": 3,
      "description": "Maximum nesting level for composite conditions"
    },
    "minPatternConfidence": {
      "type": "number",
      "default": 0.6,
      "description": "Minimum confidence threshold for pattern detection"
    },
    "learningDataRetentionDays": {
      "type": "number",
      "default": 30,
      "description": "Days to retain learning data"
    },
    "adaptiveThresholdsEnabled": {
      "type": "boolean",
      "default": true,
      "description": "Enable automatic threshold adjustment"
    },
    "anomalyThreshold": {
      "type": "number",
      "default": 2.5,
      "description": "Standard deviation threshold for anomaly detection"
    }
  },
  "input_format": {
    "type": "object",
    "properties": {
      "name": {
        "type": "string",
        "description": "Name of the smart alert"
      },
      "symbol": {
        "type": "string",
        "description": "Symbol to monitor"
      },
      "conditions": {
        "type": "array",
        "description": "Array of alert conditions",
        "items": {
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "enum": ["price", "volume", "rsi", "macd", "sma", "ema", "bollinger", "atr"]
            },
            "operator": {
              "type": "string",
              "enum": ["above", "below", "crosses_above", "crosses_below", "equals", "between"]
            },
            "value": {
              "type": ["number", "array"]
            }
          }
        }
      },
      "logic": {
        "type": "string",
        "enum": ["AND", "OR"],
        "default": "AND",
        "description": "Logic to combine conditions"
      },
      "priority": {
        "type": "string",
        "enum": ["LOW", "MEDIUM", "HIGH", "CRITICAL"]
      },
      "cooldownMinutes": {
        "type": "number",
        "default": 5
      }
    }
  },
  "output_format": {
    "type": "object",
    "properties": {
      "id": {
        "type": "string",
        "description": "Unique alert identifier"
      },
      "triggered": {
        "type": "boolean",
        "description": "Whether the alert was triggered"
      },
      "patterns": {
        "type": "array",
        "description": "Detected chart patterns"
      },
      "anomaly": {
        "type": "object",
        "description": "Anomaly detection result",
        "properties": {
          "isAnomaly": { "type": "boolean" },
          "anomalyType": { "type": "string" },
          "confidence": { "type": "number" }
        }
      },
      "trigger": {
        "type": "object",
        "description": "Alert trigger details"
      }
    }
  },
  "detectable_patterns": [
    "DOJI",
    "HAMMER",
    "INVERTED_HAMMER",
    "BULLISH_ENGULFING",
    "BEARISH_ENGULFING",
    "MORNING_STAR",
    "EVENING_STAR",
    "THREE_WHITE_SOLDIERS",
    "THREE_BLACK_CROWS",
    "HEAD_AND_SHOULDERS",
    "INVERSE_HEAD_AND_SHOULDERS",
    "DOUBLE_TOP",
    "DOUBLE_BOTTOM"
  ],
  "examples": [
    {
      "description": "Create composite alert",
      "code": "const alert = enhancedAlertSystem.createCompositeAlert('Breakout', 'AAPL', conditions, 'AND');"
    },
    {
      "description": "Process smart alert",
      "code": "const triggers = enhancedAlertSystem.processSmartAlert(marketData);"
    },
    {
      "description": "Detect patterns",
      "code": "const patterns = enhancedAlertSystem.detectPatterns(ohlcvData);"
    },
    {
      "description": "Detect anomaly",
      "code": "const anomaly = enhancedAlertSystem.detectAnomaly('AAPL', marketData);"
    }
  ],
  "best_practices": [
    "Start with simple conditions and add complexity gradually",
    "Use AND logic for confirmation-based alerts",
    "Use OR logic for coverage-based alerts",
    "Set appropriate cooldown periods to avoid alert fatigue",
    "Review detected patterns regularly for accuracy",
    "Combine with other skills for comprehensive monitoring",
    "Use pattern detection as signals, not definitive predictions"
  ],
  "related_skills": ["flash-crash-detector", "gap-risk-manager", "portfolio-optimizer"],
  "integration_points": [
    "AlertSystem for notification delivery",
    "TechnicalIndicatorService for indicator values",
    "FlashCrashDetector for crash alerts",
    "PortfolioOptimizer for portfolio-wide alerts"
  ]
}
