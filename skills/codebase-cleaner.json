{
  "name": "codebase-cleaner",
  "description": "コードベースから不要なファイルとキャッシュを一括削除するスキル。テストカバレッジレポート、ビルド成果物、ログファイル、Pythonキャッシュ、Nodeモジュールキャッシュを効率的にクリーンアップする。",
  "version": "1.0.0",
  "priority": "medium",
  "auto_activate": false,
  "triggers": [
    "クリーンアップ",
    "キャッシュ削除",
    "不要ファイル削除",
    "サイズ削減"
  ],
  "targets": [
    {
      "pattern": "**/coverage/",
      "description": "テストカバレッジレポート"
    },
    {
      "pattern": "**/test-results/",
      "description": "テスト実行結果"
    },
    {
      "pattern": "**/.next/",
      "description": "Next.jsビルドキャッシュ"
    },
    {
      "pattern": "**/*.log",
      "description": "ログファイル"
    },
    {
      "pattern": "**/__pycache__/",
      "description": "Pythonバイトコードキャッシュ"
    },
    {
      "pattern": "**/.pytest_cache/",
      "description": "pytestキャッシュ"
    },
    {
      "pattern": "**/.mypy_cache/",
      "description": "mypy型チェックキャッシュ"
    },
    {
      "pattern": "**/.ruff_cache/",
      "description": "Ruffリンターキャッシュ"
    },
    {
      "pattern": "**/eslint-report.json",
      "description": "ESLintレポート"
    },
    {
      "pattern": "**/tsconfig.tsbuildinfo",
      "description": "TypeScriptビルド情報"
    }
  ],
  "workflow": {
    "step1": "削除対象パターンの収集",
    "step2": "各パターンに一致するファイル・ディレクトリを検索",
    "step3": "削除前のサイズ計測",
    "step4": "安全な削除実行（.gitは除外）",
    "step5": "削除後のサイズ計測とレポート"
  },
  "commands": [
    "find . -type d -name '{pattern}' -exec rm -rf {} +",
    "find . -name '{pattern}' -type f -delete",
    "du -sh {directory}"
  ],
  "safety_rules": [
    "Never delete .git/ directory",
    "Never delete node_modules/ unless explicitly requested",
    "Always verify pattern before deletion",
    "Preserve source code and configuration files"
  ],
  "capabilities": [
    "複数パターンの一括削除",
    "削除前後のサイズ比較",
    "安全な削除（重要ファイル保護）",
    "詳細な削除レポート生成"
  ]
}
