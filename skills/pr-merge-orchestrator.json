{
  "name": "pr-merge-orchestrator",
  "description": "多数のPRを効率的にマージするためのオーケストレーションスキル。コンフリクト検出、依存関係分析、並列処理、git worktreeを活用した一括マージを自動化する。",
  "version": "1.0.0",
  "priority": "high",
  "auto_activate": true,
  "triggers": [
    "全PRをマージ",
    "複数のPRを処理",
    "PRを一括マージ",
    "git worktreeを使って"
  ],
  "rules": [
    "parallel-processing",
    "dependency-analysis",
    "conflict-detection",
    "batch-optimization",
    "rollback-strategy"
  ],
  "workflow": {
    "step1": "PR一覧取得と状態分析",
    "step2": "コンフリクト有無の分類",
    "step3": "依存関係によるマージ順序決定",
    "step4": "git worktreeによる並列作業環境構築",
    "step5": "各PRでmainマージとコンフリクト解決",
    "step6": "ドラフトPRをReady for reviewに変更",
    "step7": "順次マージ実行とブランチ削除",
    "step8": "結果レポート生成"
  },
  "commands": [
    "gh pr list --state open --json number,headRefName,mergeable,mergeStateStatus",
    "git worktree add ../worktrees/pr-{number} {branch}",
    "gh pr ready {number} --repo {owner}/{repo}",
    "gh pr merge {number} --squash --delete-branch --repo {owner}/{repo}"
  ],
  "capabilities": [
    "複数PRの並列処理",
    "自動コンフリクト解決",
    "依存関係に基づくマージ順序最適化",
    "git worktreeによる効率的なワークスペース管理",
    "マージ失敗時の自動リトライ"
  ]
}
