{
  "name": "ci-cd-troubleshooter",
  "description": "CI/CDパイプラインの問題を診断・解決するスキル。GitHub Actionsの失敗チェック解析、package-lock.jsonの同期、Node.jsバージョン問題、セキュリティスキャンの対応を自動化する。",
  "version": "1.0.0",
  "priority": "high",
  "auto_activate": true,
  "triggers": [
    "CIが失敗",
    "チェックが通らない",
    "build失敗",
    "test失敗",
    "npm ciエラー"
  ],
  "rules": [
    "failure-analysis",
    "lockfile-sync",
    "nodejs-version-check",
    "security-audit-fix",
    "dependency-resolution"
  ],
  "common_issues": {
    "package_lock_mismatch": "package.jsonとpackage-lock.jsonの不一致",
    "node_version_conflict": "Node.jsバージョンの不一致",
    "npm_audit_failure": "npm auditのセキュリティ警告",
    "git_guardian_alert": "GitGuardianのシークレット検出",
    "test_timeout": "テストタイムアウト"
  },
  "workflow": {
    "step1": "失敗したCIチェックの特定",
    "step2": "エラーログの解析",
    "step3": "根本原因の特定（lockfile、Nodeバージョン等）",
    "step4": "npm installによるlockfile更新",
    "step5": "修正のコミットとプッシュ",
    "step6": "CI再実行と結果確認"
  },
  "commands": [
    "gh run list --branch {branch} --limit 20",
    "npm install",
    "gh pr checks {number} --repo {owner}/{repo}"
  ],
  "capabilities": [
    "複数のCIチェック失敗の同時解析",
    "package-lock.json自動同期",
    "セキュリティ警告への対応提案",
    "CI結果のレポート生成"
  ]
}
