# Dev Master Skill

## 概要 (Overview)
コードレビュー、デバッグ、開発支援を統合した包括的な開発マスタースキル。コード品質の向上から不具合修正まで、開発ライフサイクル全体を自動的に支援する。

## 1. 自動コードレビュー (Auto Code Review)
コード変更時、自動的にレビューを実行して品質を担保する。

### トリガー条件
- ユーザーから「レビューして」と明示的な指示があった場合
- `Edit` または `Write` でコードを変更した後
- 複数のファイルを変更したPull Requestの作成時

### 実行内容
1. **変更の影響範囲を分析**: 変更されたファイルが他に与える影響を特定
2. **静的解析**: TypeScript、ESLintのエラーを検出
3. **セキュリティチェック**: 脆弱性パターンをスキャン
4. **パフォーマンス評価**: パフォーマンスへの影響を評価
5. **テストカバレッジ**: テストの追加が必要か判断

### フィードバック形式
```markdown
## 🔍 コードレビュー結果

### 変更サマリー
- 変更ファイル: [数]ファイル
- 追加行: [+数] 削除行: [-数]

### 検出された問題
- 🔴 **重大**: [問題]
- 🟡 **改善推奨**: [問題]
- 🟢 **情報**: [観察事項]

### アクション
- [ ] 即時修正が必要
- [ ] 後で改善を検討
```

## 2. インテリジェントデバッグ (Intelligent Debugging)
不具合報告を受け取った場合、自動的にデバッグプロセスを開始する。

### トリガー条件
- ユーザーから「バグってる」「動かない」といった報告があった場合
- エラーログやスタックトレースが共有された場合
- 特定の機能で問題が報告された場合

### デバッグ戦略
1. **問題の分類**:
   - フロントエンド問題 → Chrome DevTools MCPを使用
   - バックエンド問題 → サーバーログとAPIテスト
   - データ問題 → データベースと状態管理を確認

2. **情報収集**:
   - スクリーンショット取得
   - コンソールログ収集
   - ネットワークリクエスト分析
   - ソースコード調査

3. **原因特定**:
   - 再現手順の作成
   - 最小限の再現コード作成
   - 関連するテスト実行

4. **修正と検証**:
   - 修正パッチの作成または適用
   - 自動テストで検証
   - 回帰テスト実施

### 問題分類と対応
| 問題タイプ | 検出方法 | 対応ツール |
|-----------|----------|-----------|
| UI崩れ | スクリーンショット分析 | Chrome DevTools |
| JSエラー | コンソールログ | list_console_messages |
| API失敗 | ネットワーク分析 | list_network_requests |
| パフォーマンス | トレース | performance_start_trace |
| ロジック誤り | コードレビュー | Grep + Read |

## 3. 積極的な品質ゲート (Proactive Quality Gate)
コードの品質を継続的に監視し、問題を未然に防ぐ。

### 常時監視項目
- **TypeScriptエラー**: 型安全性の問題
- **ESLint警告**: コードスタイルの一貫性
- **テスト失敗**: 回帰の検出
- **セキュリティ脆弱性**: 依存関係のスキャン
- **パフォーマンス劣化**: ベンチマークとの比較

### 自動アクション
- 変更後、自動で `npm run lint` を実行
- 変更後、自動で `npm test` を実行
- エラーがある場合、即座に修正を提案または実行
- 変更が影響するテストを自動実行

### 品質メトリクス
```javascript
{
  "code_coverage": "テストカバレッジ率を追跡",
  "tech_debt": "技術的負債のリストを維持",
  "bug_count": "未解決のバグ数を追跡",
  "performance_score": "ベンチマークスコアを記録"
}
```

## 4. 継続的改善 (Continuous Improvement)
開発プロセス自体を継続的に改善する。

### ベストプラクティスの蓄積
- よくある問題パターンと解決策をライブラリ化
- コードスニペットを再利用可能な形で保存
- プロジェクト固有の規約を文書化

### 知識の共有
- コードレビューでの指摘事項をまとめる
- 週次で「今週の学び」をまとめる
- 新しい改善提案をドキュメント化

### オートメーションの強化
- 繰り返しのタスクをスクリプト化
- テストケースの自動生成
- リファクタリングの自動化

## 5. 統合ワークフロー (Integrated Workflow)
開発タスク全体を通して一貫した品質を維持する。

### フィーチャー開発
```
1. 要件理解 → 2. 実装 → 3. 自動レビュー → 4. テスト → 5. デバッグ（必要なら） → 6. デプロイ準備
```

### バグ修正
```
1. 問題報告 → 2. 情報収集 → 3. 原因特定 → 4. 修正 → 5. 検証 → 6. 回帰テスト
```

### リファクタリング
```
1. 現状分析 → 2. 改善案作成 → 3. 適用 → 4. テスト → 5. パフォーマンス比較
```

## 6. ユーザーとの協働 (Collaboration)
ユーザーの意図を理解し、適切なレベルで支援する。

### 自律性のレベル
- **Level 1 (完全自律)**: 明示的な指示なしで完結（軽微なバグ修正、フォーマット）
- **Level 2 (確認後実行)**: 方針を確認してから実行（リファクタリング、新機能）
- **Level 3 (支援実行)**: ユーザーの主導を支援（複雑な設計判断）

### コミュニケーション
- 進捗を適宜報告
- 判断を求める際は明確な選択肢を提示
- 実施したアクションと理由を説明
- 次に推奨されるアクションを提案

## 7. 緊急時対応 (Emergency Response)
重大な問題が発生した場合、迅速に対応する。

### 緊急事態の定義
- 本番環境でサービスがダウン
- データ損失のリスク
- セキュリティインシデント

### 対応フロー
1. **即座の状況把握**: エラーログ、メトリクスを収集
2. **被害最小化**: ロールバックや一時的な修正を検討
3. **根本原因の特定**: 徹底的な調査
4. **恒久的な修正**: 再発防止策の実装
5. **事後レビュー**: レポートと改善策の提案

## 8. スキルの組み合わせ (Skill Composition)
必要に応じて他のスキルを組み合わせて使用する：

### code-reviewer + 使用時
- 包括的なレビュー実行
- 静的解析と動的テストの組み合わせ

### debugger-pro + 使用時
- 実際の動作環境での問題特定
- 修正前後の比較検証

### quality-gatekeeper + 使用時
- ビルドとテストの自動実行
- エラー時の自動修正

### trader-pro-expert + 使用時
- 取引アプリ特有の問題対応
- 市場データ関連のデバッグ
