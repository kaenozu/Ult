npm warn Unknown cli config "--runInBand". This will stop working in the next major version of npm.

> ult-app@0.1.0 test
> jest

FAIL src/components/ui/__tests__/data-table.test.tsx
  笳・Test suite failed to run

    Configuration error:

    Could not locate module @/lib/logger mapped as:
    C:\gemini-desktop\Ult\src\$1.

    Please check your configuration for these entries:
    {
      "moduleNameMapper": {
        "/^@\/(.*)$/": "C:\gemini-desktop\Ult\src\$1"
      },
      "resolver": undefined
    }

      4 |
      5 | // Mock logger
    > 6 | jest.mock('@/lib/logger', () => ({
        |      ^
      7 |   logger: {
      8 |     debug: jest.fn(),
      9 |     info: jest.fn(),

      at createNoMappedModuleFoundError (node_modules/jest-resolve/build/resolver.js:759:17)
      at Object.<anonymous> (src/components/ui/__tests__/data-table.test.tsx:6:6)

FAIL src/__tests__/components/visualizations/EcosystemGraph.test.tsx
  笳・Test suite failed to run

    Cannot find module 'react-force-graph-3d' from 'src/__tests__/components/visualizations/EcosystemGraph.test.tsx'

      17 |
      18 | // Mock react-force-graph-3d
    > 19 | jest.mock("react-force-graph-3d", () => {
         |      ^
      20 |   return function MockForceGraph3D() {
      21 |     return <div data-testid="force-graph">Force Graph 3D</div>;
      22 |   };

      at Resolver._throwModNotFoundError (node_modules/jest-resolve/build/resolver.js:427:11)
      at Object.<anonymous> (src/__tests__/components/visualizations/EcosystemGraph.test.tsx:19:6)

FAIL src/components/shared/hooks/__tests__/useAsyncData.test.ts
  笳・Test suite failed to run

    Configuration error:

    Could not locate module @/lib/logger mapped as:
    C:\gemini-desktop\Ult\src\$1.

    Please check your configuration for these entries:
    {
      "moduleNameMapper": {
        "/^@\/(.*)$/": "C:\gemini-desktop\Ult\src\$1"
      },
      "resolver": undefined
    }

      4 |
      5 | // Mock logger
    > 6 | jest.mock('@/lib/logger', () => ({
        |      ^
      7 |   logger: {
      8 |     debug: jest.fn(),
      9 |     info: jest.fn(),

      at createNoMappedModuleFoundError (node_modules/jest-resolve/build/resolver.js:759:17)
      at Object.<anonymous> (src/components/shared/hooks/__tests__/useAsyncData.test.ts:6:6)

PASS src/components/TrafficLight.test.tsx
  TrafficLight Component
    Rendering
      竏・renders safe level correctly with proper styling (73 ms)
      竏・renders caution level correctly with proper styling (9 ms)
      竏・renders danger level correctly with proper styling (7 ms)
    Accessibility
      竏・has proper ARIA attributes for screen readers (10 ms)
      竏・has descriptive labels for light indicators (6 ms)
    Performance
      竏・renders without unnecessary re-renders (6 ms)

  console.error
    Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: ["signal","AAPL"]

      at Query.fetch (node_modules/@tanstack/query-core/src/query.ts:551:19)

FAIL src/__tests__/components/dashboard/SignalCard.test.tsx
  SignalCard
    竏・renders ticker and name correctly (102 ms)
    竏・displays bullish signal correctly (59 ms)
    竏・displays bearish signal correctly (31 ms)
    竏・displays neutral signal correctly (31 ms)
    ﾃ・executes trade on button click when entry price exists (1024 ms)
    竏・does not execute trade when no entry price (23 ms)

  笳・SignalCard 窶ｺ executes trade on button click when entry price exists

    expect(jest.fn()).toHaveBeenCalled()

    Expected number of calls: >= 1
    Received number of calls:    0

    Ignored nodes: comments, script, style
    <html>
      <head />
      <body>
        <div>
          <div
            class="bg-card text-card-foreground gap-6 rounded-xl border shadow-sm glass-panel border-white/5 p-5 relative overflow-hidden transition-all duration-300 hover:border-primary/30 hover:shadow-[0_0_20px_rgba(0,240,255,0.1)] group flex flex-col justify-between h-full min-h-[180px]"
            data-slot="card"
          >
            <div
              class="flex justify-between items-start mb-2"
            >
              <div>
                <div
                  class="flex items-baseline gap-2"
                >
                  <h3
                    class="text-2xl font-bold font-sans tracking-tight"
                  >
                    MSFT
                  </h3>
                  <span
                    class="text-xs text-muted-foreground font-medium"
                  >
                    Microsoft Corp.
                  </span>
                </div>
                <div
                  class="text-[10px] text-primary/70 uppercase tracking-widest mt-1"
                >
                  Strategy: 
                  Test
                </div>
              </div>
              <div
                class="relative flex items-center justify-center w-12 h-12"
              >
                <svg
                  class="w-full h-full transform -rotate-90"
                >
                  <circle
                    class="text-muted/20"
                    cx="24"
                    cy="24"
                    fill="transparent"
                    r="20"
                    stroke="currentColor"
                    stroke-width="4"
                  />
                  <circle
                    class="text-primary"
                    cx="24"
                    cy="24"
                    fill="transparent"
                    r="20"
                    stroke="currentColor"
                    stroke-dasharray="125.6"
                    stroke-dashoffset="12.559999999999997"
                    stroke-width="4"
                  />
                </svg>
                <span
                  class="absolute text-xs font-bold"
                >
                  90
                  %
                </span>
              </div>
            </div>
            <div
              class="mt-2 mb-4"
            >
              <div
                class="flex items-center gap-2 text-primary neon-text mb-2"
              >
                <svg
                  aria-hidden="true"
                  class="lucide lucide-trending-up w-5 h-5"
                  fill="none"
                  height="24"
                  stroke="currentColor"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  viewBox="0 0 24 24"
                  width="24"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M16 7h6v6"
                  />
                  <path
                    d="m22 7-8.5 8.5-5-5L2 17"
                  />
                </svg>
                <span
                  class="text-lg font-bold"
                >
                  蠑ｷ豌苓ｲｷ縺・[0m
                </span>
              </div>
              <div
                class="grid grid-cols-3 gap-2 text-xs font-mono bg-white/5 p-2 rounded mb-2 border border-white/10"
              >
                <div
                  class="flex flex-col"
                >
                  <span
                    class="text-muted-foreground"
                  >
                    繧ｨ繝ｳ繝医Μ繝ｼ
                  </span>
                  <span
                    class="font-bold text-white"
                  >
                    ﾂ･
                    200
                  </span>
                </div>
                <div
                  class="flex flex-col"
                >
                  <span
                    class="text-muted-foreground"
                  >
                    蛻ｩ遒ｺ
                  </span>
                  <span
                    class="font-bold text-emerald-400"
                  >
                    ﾂ･
                    210
                  </span>
                </div>
                <div
                  class="flex flex-col"
                >
                  <span
                    class="text-muted-foreground"
                  >
                    謳榊・
                  </span>
                  <span
                    class="font-bold text-red-400"
                  >
                    ﾂ･
                    190
                  </span>
                </div>
              </div>
              <p
                class="text-xs text-muted-foreground mt-1 line-clamp-2 min-h-[2.5em]"
              >
                Buy signal
              </p>
            </div>
            <button
              class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive border bg-background shadow-xs hover:bg-accent dark:bg-input/30 dark:border-input dark:hover:bg-input/50 h-9 px-4 py-2 has-[>svg]:px-3 w-full glass-button hover:text-primary hover:border-primary/50 group-hover:bg-primary/5 active:scale-95 transition-all"
              data-size="default"
              data-slot="button"
              data-variant="outline"
            >
              <svg
                aria-hidden="true"
                class="lucide lucide-zap w-4 h-4 mr-2"
                fill="none"
                height="24"
                stroke="currentColor"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                viewBox="0 0 24 24"
                width="24"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z"
                />
              </svg>
              豕ｨ譁・ｮ溯｡・[0m
            </button>
            <div
              class="absolute -right-10 -bottom-10 w-32 h-32 rounded-full blur-[50px] opacity-10 
            bg-primary"
            />
          </div>
        </div>
      </body>
    </html>

      147 |
      148 |     await waitFor(() => {
    > 149 |       expect(window.confirm).toHaveBeenCalled();
          |                              ^
      150 |       expect(mockExecuteTrade).toHaveBeenCalled();
      151 |     });
      152 |   });

      at src/__tests__/components/dashboard/SignalCard.test.tsx:149:30
      at runWithExpensiveErrorDiagnosticsDisabled (node_modules/@testing-library/dom/dist/config.js:47:12)
      at checkCallback (node_modules/@testing-library/dom/dist/wait-for.js:124:77)
      at checkRealTimersCallback (node_modules/@testing-library/dom/dist/wait-for.js:118:16)
      at Timeout.task [as _onTimeout] (node_modules/jsdom/lib/jsdom/browser/Window.js:520:19)

Test Suites: 4 failed, 1 passed, 5 total
Tests:       1 failed, 11 passed, 12 total
Snapshots:   0 total
Time:        4.72 s
Ran all test suites.
